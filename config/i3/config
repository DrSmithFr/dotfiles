# set modifier
set $super Mod4
set $alt Mod1

# set font
font pango: DejaVu Sans Mono 10

# Use Mouse+$super to drag floating windows to their wanted position
floating_modifier $super

#autostart
exec --no-startup-id hsetroot -full ~/.wallpaper.jpg
exec --no-startup-id xsettingsd &
exec --no-startup-id compton -b
exec --no-startup-id nvidia-settings --load-config-only
exec --no-startup-id slack -u
exec --no-startup-id nm-applet --sm-disable
exec --no-startup-id numlockx on

# start a terminal
bindsym $super+Return exec rxvt

# start dmenu (a program launcher)
bindsym $super+Shift+d exec i3-dmenu-desktop --dmenu="dmenu -i -fn 'Noto Sans:size=8'"
bindsym $super+d exec rofi -lines 12 -padding 18 -width 60 -location 0 -show drun -sidebar-mode -columns 3 -font 'Noto Sans 8'

# WORKSPACETAB
bindsym $alt+Tab exec rofi -lines 12 -padding 18 -width 60 -location 0 -show window -sidebar-mode -columns 3 -font 'Noto Sans 8'

# common apps keybinds
bindsym Print exec scrot 'Cheese_%a-%d%b%y_%H.%M.png' -e 'viewnior ~/$f'
bindsym Control+$alt+k exec i3lock -c 151515 -i ~/.wallpaper.jpg
bindsym $super+Shift+b exec google-chrome
bindsym $super+Shift+f exec nemo

# changer le mode d'affichage des containers:
bindsym $super+s layout toggle stacking
bindsym $super+z layout toggle tabbed
bindsym $super+e layout toggle default

# music control
bindsym XF86AudioRaiseVolume exec "amixer -D pulse sset Master '5%+'"
bindsym XF86AudioLowerVolume exec "amixer -D pulse sset Master '5%-'"
bindsym XF86AudioMute exec "amixer -D pulse set Master toggle"
bindsym XF86AudioPlay exec "dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.PlayPause" 
bindsym XF86AudioNext exec "dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Next" 
bindsym XF86AudioPrev exec "dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Previous"
bindsym XF86AudioStop exec "dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Stop"

# kill focused window
bindsym $super+c kill
bindsym $alt+F4 kill

# change focus
bindsym $super+Left  focus left
bindsym $super+Down  focus down
bindsym $super+Up    focus up
bindsym $super+Right focus right

# move focused window
bindsym $super+Shift+Left  move left
bindsym $super+Shift+Down  move down
bindsym $super+Shift+Up    move up
bindsym $super+Shift+Right move right

# split in horizontal orientation
bindsym $super+h split h

# split in vertical orientation
bindsym $super+v split v

# enter fullscreen mode for the focused container
bindsym $super+f fullscreen toggle

# toggle tiling / floating
bindsym $super+space floating toggle

# change focus between tiling / floating windows
bindsym $super+Shift+space focus mode_toggle

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $super+Shift+r restart

# exit i3
bindsym $super+q exec "i3-nagbar -t warning -m 'Really, exit?' -b 'Yes' 'i3-msg exit'"

# resize window
bindsym $super+Control+Shift+Right resize shrink width  1 px or 1 ppt
bindsym $super+Control+Shift+Down  resize grow   height 1 px or 1 ppt
bindsym $super+Control+Shift+Up    resize shrink height 1 px or 1 ppt
bindsym $super+Control+Shift+Left  resize grow   width  1 px or 1 ppt

## Manual management of external displays
# Set the shortcuts and what they do
set $mode_display (y) HDMI ON, (n) HDMI OFF
mode "$mode_display" {
    bindsym y exec --no-startup-id xrandr --output HDMI-1-2 --right-of eDP-1-1 --auto, mode "default"
    bindsym n exec --no-startup-id xrandr --output HDMI-1-2 --off, mode "default"

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
# Declare here the shortcut to bring the display selection menu
bindsym $super+x mode "$mode_display"

# panel
bar {
    colors {
        background #151515
        statusline #151515
        separator #683b3b

        # colour           border,  background, and text
        focused_workspace  #151515    #683b3b    #eeeeee
        active_workspace   #151515    #333333    #d8dee8
        inactive_workspace #151515    #333333    #d8dee8
        urgent_workspace   #151515    #ebcb8b    #151515
    }
        status_command i3status
}

# workspace variable
set $w1 "1 cmd"
set $w2 "2 msg"
set $w3 "3 dev"
set $w4 "4 web"
set $w5 5
set $w6 6
set $w7 7
set $w8 8
set $w9 9
set $w10 10

# switch to workspace
bindsym $alt+Control+Right workspace next
bindsym $alt+Control+Left  workspace prev

bindsym $super+ampersand  workspace number $w1
bindsym $super+eacute     workspace number $w2
bindsym $super+quotedbl   workspace number $w3
bindsym $super+apostrophe workspace number $w4
bindsym $super+parenleft  workspace number $w5
bindsym $super+minus      workspace number $w6
bindsym $super+egrave     workspace number $w7
bindsym $super+underscore workspace number $w8
bindsym $super+ccedilla   workspace number $w9
bindsym $super+agrave     workspace number $w10

# move focused container to workspace
bindsym $super+Shift+1 move container to workspace number $w1
bindsym $super+Shift+2 move container to workspace number $w2
bindsym $super+Shift+3 move container to workspace number $w3
bindsym $super+Shift+4 move container to workspace number $w4
bindsym $super+Shift+5 move container to workspace number $w5
bindsym $super+Shift+6 move container to workspace number $w6
bindsym $super+Shift+7 move container to workspace number $w7
bindsym $super+Shift+8 move container to workspace number $w8
bindsym $super+Shift+9 move container to workspace number $w9
bindsym $super+Shift+0 move container to workspace number w10

# window rules, you can find the window class using xprop
for_window [class=".*"] border pixel 4

# force a window on a named workspace
assign [class=URxvt] $w1
assign [class=spotify|slack] $w2
assign [class=jetbrains-phpstorm] $w3
assign [class=google-chrome] $w4

for_window [class=Pavucontrol] floating enable
for_window [class=Pavucontrol] focus

# monitor assign
set $monitor_principal eDP-1-1
set $monitor_external HDMI-1-2

# Bind workspaces to monitors
workspace $w1 output $monitor_principal
workspace $w2 output $monitor_principal

workspace $w3 output $monitor_external
workspace $w4 output $monitor_external

# colour of border, background, text, indicator, and child_borderg
client.focused          #bf616a #151515 #d8dee8 #593535 #505050
client.focused_inactive #151515 #151515 #d8dee8 #151515 #151515
client.unfocused        #151515 #151515 #d8dee8 #151515 #151515
client.urgent           #151515 #151515 #d8dee8 #151515 #151515
client.placeholder      #151515 #151515 #d8dee8 #151515 #151515
client.background       #151515
